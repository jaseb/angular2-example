<section id="contact" class="container">
  <div class="row">
    <div class="offset-md-1 col-md-10 col-sm-offset-2 col-sm-8">
      <form class="form-horizontal" [formGroup]="formGroup" (ngSubmit)="onSubmit()">

        <div class="row">
          <div class="col-md-10 col-xs-12 text-right">
            <a class="btn btn-outline-primary" (click)="onCancel()">Cancel</a>
            <button type="submit" class="btn btn-success" [disabled]="!formGroup.valid">Save</button>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 control-label" for="name">Name</label>
          <div class="col-sm-10">
            <input id="name" class="form-control" type="text"
                   formControlName="name"
                   placeholder="Name"/>
          </div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 control-label" for="description">Description</label>
          <div class="col-sm-10">
            <textarea id="description" class="form-control" type="text"
                      formControlName="desc"
                      placeholder="Description"
                      rows="6">
            </textarea>
          </div>
        </div>

        <!--<div class="col-sm-11 text-right pb-3">-->
        <div class="col-sm-11 pb-3">
          <span class="pr-2">Click to add an attribute</span>
          <button type="button" class="btn btn-primary btn-sm mr-3" (click)="onAddAttribute('', '')">+</button>
        </div>

        <ul class="list-group" formArrayName="attrs">

          <div class="row col-sm-11 ml-0 mr-0 pb-1"
               *ngFor="let attr of formGroup.controls['attrs'].controls; let i = index">

            <div class="" formGroupName="{{i}}">
              <div class="form-inline">
                <div class="form-group mr-1">
                  <label class="sr-only" for="key">Key</label>
                  <input type="text" id="key" class="form-control" formControlName="name" placeholder="Key"/>
                </div>
                <div class="form-group mr-1">
                  <label class="sr-only" for="value">Value</label>
                  <input type="text" id="value" class="form-control" formControlName="desc" placeholder="Value"/>
                </div>
                <div class="form-group">
                  <button class="btn btn-danger btn-sm" (click)="onRemoveAttribute(i)">X</button>
                </div>
              </div>
            </div>

          </div>
        </ul>

      </form>
    </div>
  </div>
</section>
